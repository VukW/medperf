{% extends "base.html" %}

{% block title %}MLCube Details{% endblock %}

{% block content %}
<h1 class="my-4">{{ mlcube.name }}</h1>
<div class="card">
    <div class="card-body">
        <div class="d-flex justify-content-between">
            <h5 class="card-title">Details</h5>
            <span class="badge {% if mlcube.state == 'OPERATION' %}badge-success{% else %}badge-danger{% endif %}">
                {{ mlcube.state }}
            </span>
        </div>
        <div class="form-group">
            <label for="url-type">URL Type</label>
            <div id="url-type" class="form-check">
                <input class="form-check-input" type="radio" name="urlType" id="gitUrl" value="git" checked>
                <label class="form-check-label" for="gitUrl">
                    Git URLs
                </label>
            </div>
            <div id="url-type" class="form-check">
                <input class="form-check-input" type="radio" name="urlType" id="tarballUrl" value="tarball">
                <label class="form-check-label" for="tarballUrl">
                    Tarball URL
                </label>
            </div>
        </div>
        <div id="gitUrls">
            <p class="card-text"><strong>MLCube:</strong> <a href="{{ mlcube.git_mlcube_url }}" target="_blank">{{ mlcube.git_mlcube_url }}</a></p>
            <p class="card-text text-muted small">{{ mlcube.mlcube_hash }}</p>
            <p class="card-text"><strong>Parameters:</strong> <a href="{{ mlcube.git_parameters_url }}" target="_blank">{{ mlcube.git_parameters_url }}</a></p>
            <p class="card-text text-muted small">{{ mlcube.parameters_hash }}</p>
        </div>
        <div id="tarballUrlSection" style="display: none;">
            <p class="card-text"><strong>Image Tarball:</strong> <a href="{{ mlcube.image_tarball_url }}" target="_blank">{{ mlcube.image_tarball_url }}</a></p>
            <p class="card-text text-muted small">{{ mlcube.image_tarball_hash }}</p>
            <p class="card-text"><strong>Additional Files:</strong> <a href="{{ mlcube.additional_files_tarball_url }}" target="_blank">{{ mlcube.additional_files_tarball_url }}</a></p>
            <p class="card-text text-muted small">{{ mlcube.additional_files_tarball_hash }}</p>
        </div>
        <p class="card-text"><strong>Image Hash:</strong> {{ mlcube.image_hash }}</p>
        <p class="card-text"><strong>Created At:</strong> {{ mlcube.created_at }}</p>
        <p class="card-text"><strong>Modified At:</strong> {{ mlcube.modified_at }}</p>
        <p class="card-text"><strong>Owner:</strong> {{ mlcube.owner }}</p>
    </div>
</div>
<script>
    document.getElementById('gitUrl').addEventListener('click', function() {
        document.getElementById('gitUrls').style.display = 'block';
        document.getElementById('tarballUrlSection').style.display = 'none';
    });
    document.getElementById('tarballUrl').addEventListener('click', function() {
        document.getElementById('gitUrls').style.display = 'none';
        document.getElementById('tarballUrlSection').style.display = 'block';
    });
</script>
{% endblock %}
